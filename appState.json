{"EDITOR_STATE":{"allProjectFiles":{"df185237-3ce5-4fc6-9d0e-e481c028caa0":{"id":"df185237-3ce5-4fc6-9d0e-e481c028caa0","parent":null,"name":"TestKinesis","type":"DIRECTORY","isDirectory":true,"children":["6ed0be00-b9d5-48b0-aebc-86eb4b491fc9"],"isRemovable":false,"filePath":"TestKinesis"},"6ed0be00-b9d5-48b0-aebc-86eb4b491fc9":{"id":"6ed0be00-b9d5-48b0-aebc-86eb4b491fc9","parent":"df185237-3ce5-4fc6-9d0e-e481c028caa0","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestKinesis/lambda.js","code":"let AWS = require('aws-sdk');\nconst kinesis = new AWS.Kinesis();\nexports.handler = function (event, context, callback) {\n\trequest = JSON.stringify(event.body)\n\tkinesis.putRecord({\n\t\tData: request,\n\t\tPartitionKey: '0',\n\t\tStreamName: 'Kinesis-put'\n\t}).promise()\n\t\t.then(data => {\n\t\t\t// your logic goes here\n\t\t\tconsole.log('Response -> data:', data);\n\t\t\tlet response = {\n\t\t\t\t'statusCode': 200,\n\t\t\t\t'headers': {\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\t'body': JSON.stringify({\n\t\t\t\t\t'Code': 'PutRecordSuccessful',\n\t\t\t\t\t'Message': 'Record was successfully put to Kinesis put',\n\t\t\t\t\t'Data': data\n\t\t\t\t}),\n\t\t\t\t'isBase64Encoded': false\n\t\t\t};\n\t\t\tcallback(null, response);\n\t\t})\n\t\t.catch(err => {\n\t\t\t// error handling goes here\n\t\t\tconsole.log('Response -> error:', err);\n            let response = {\n                'statusCode': err.statusCode,\n                'headers': {\n                    'Access-Control-Allow-Origin': '*',\n                    'Content-Type': 'application/json'\n                },\n                'body': JSON.stringify({\n                    'Code': err.code,\n                    'Message': err.message\n                }),\n                'isBase64Encoded': false\n            };\n\t\t\tcallback(null, response);\n\t\t});\n}","triggers":[{"resourceName":"apigusEast1KinesisPutputany","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"},"version":51,"syncVersion":35}},"rootNode":"df185237-3ce5-4fc6-9d0e-e481c028caa0","openFiles":["6ed0be00-b9d5-48b0-aebc-86eb4b491fc9"],"currentFileId":"6ed0be00-b9d5-48b0-aebc-86eb4b491fc9","resources":{"kinesisKinesisPut":{"name":"kinesisKinesisPut","type":"Kinesis","config":{"mode":0,"StreamName":"Kinesis-put","shards":1,"region":"us-east-1","operation":"put-record"},"globallyEditable":true},"apigusEast1KinesisPutputany":{"name":"apigusEast1KinesisPutputany","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"Kinesis-Put","endpointType":"EDGE","resourceMode":0,"resourceName":"put","resourcePath":"/put","restMethod":"ANY","proxyIntegration":true,"enableCORS":false,"stageMode":0,"stageName":"Prod"},"globallyEditable":true}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":"","editable":false,"isEditable":false}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true}}},"lambdaId":"6ed0be00-b9d5-48b0-aebc-86eb4b491fc9","additionalFiles":[]},"PROJECT_META":{"projectName":"TestKinesis","projectDescription":"Test Kinesis as a resource or trigger","projectVersion":"1.0.0","projectRegion":"us-east-1","repoName":"TestKinesis","repoUrl":"https://github.com/TestAndunR/TestKinesis","lastSave":1524117015336}}